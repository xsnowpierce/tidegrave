[gd_scene load_steps=16 format=4 uid="uid://7yglhrnt5gdi"]

[ext_resource type="Script" uid="uid://dowc8klij3pqt" path="res://levels/dungeon1/door_interactable.gd" id="1_qr7oj"]
[ext_resource type="Texture2D" uid="uid://b550qx0afaqom" path="res://models/door/door_door_frame.png" id="2_4s4k0"]
[ext_resource type="Texture2D" uid="uid://cxwi1gwxmrvxh" path="res://models/door/door_door.png" id="3_mvtml"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7i14y"]
resource_name = "Frame"
cull_mode = 2
shading_mode = 0
albedo_texture = ExtResource("2_4s4k0")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_kv4ii"]
_surfaces = [{
"aabb": AABB(-1, -1.1078e-08, -1, 2, 0.184706, 2),
"format": 34896613377,
"index_count": 54,
"index_data": PackedByteArray("AAABAAIAAwACAAQAAwAAAAIAAAAFAAEABQAGAAEABQAHAAYABQAIAAcABQAJAAgAAAAJAAUACQAKAAgACQALAAoAAAAMAAkADAALAAkAAwAMAAAADAANAAsAAwAOAAwADgANAAwADgAPAA0A"),
"name": "Frame",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 16,
"vertex_data": PackedByteArray("zAkAAHnzAAAAAAAAAAAAAAAAAAD//wAA//8AAHnzAAD//wAA//8AAMwJAACFDAAA//8AAAAAAAD//wAAhQwAAP///v+FDAAAzAn//4UMAAD/////AAAAAAAA//8AAAAAzAn//3nzAAAAAP////8AAP///v958wAA////////AAA=")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_x7g7h"]
resource_name = "door_Plane"
_surfaces = [{
"aabb": AABB(-1, -1.1078e-08, -1, 2, 0.184706, 2),
"attribute_data": PackedByteArray("xOjh/AjyVsAI8v//AADh/AAA///E6HPDAABWwAAAc8NDCTm9AACugEMJy4MI8q6ACPLLgwAAVsAI8jm9CPJWwJPToOduw3DOk9Nwzm7DoOduwz+1k9Nwzm7DcM6T0z+1k9M/tW7Dnp2T056dbsM/tQ=="),
"format": 34896613399,
"index_count": 54,
"index_data": PackedByteArray("AAABAAIAAwAAAAIAAwACAAQAAAAFAAEABQAGAAEABQAHAAYACAAJAAoACgAJAAsACgALAAwACAANAAkADgANAAgADgAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUAGAAZABoAGAAbABkA"),
"material": SubResource("StandardMaterial3D_7i14y"),
"name": "Frame",
"primitive": 3,
"uv_scale": Vector4(1.62916, 3.22178, 0, 0),
"vertex_count": 28,
"vertex_data": PackedByteArray("zAkAAHnz//8AAAAAAAD//wAAAAD///////8AAHnz/////wAA/////8wJAACFDP////8AAAAA/////wAAhQz//8wJ//958/+/AAD//wAA/7/MCf//hQz/v/////8AAP+////+/4UM/78AAP//////v////v958/+//////////7///wAAefP//8wJ//958///zAkAAHnz//////7/efP//8wJAACFDP+////+/4UM/7///wAAhQz/v8wJ//+FDP+/zAkAAHnzVNXMCf//hQxU1cwJAACFDFTVzAn//3nzVNX/f/8//3//P/9//z//f/8//3//P/9//z//f/8//3//P/7//3/+//9//v//f////3////9//v//f////3////9//z//v/8//7//P/+//z//v/////////////////////+qqlRVqqpUVaqqVFWqqlRV")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_kv4ii")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_yowmm"]
data = PackedVector3Array(-0.9235, 0, 0.9022, -1, 0, -1, -1, 0, 1, 1, 0, 0.9022, -0.9235, 0, 0.9022, -1, 0, 1, 1, 0, 0.9022, -1, 0, 1, 1, 0, 1, -0.9235, 0, 0.9022, -0.9235, 0, -0.9022, -1, 0, -1, -0.9235, 0, -0.9022, 1, 0, -1, -1, 0, -1, -0.9235, 0, -0.9022, 1, 0, -0.9022, 1, 0, -1, -0.9235, 0.1847, 0.9022, -1, 0.1847, -1, -0.9235, 0.1847, -0.9022, -0.9235, 0.1847, -0.9022, -1, 0.1847, -1, 1, 0.1847, -1, -0.9235, 0.1847, -0.9022, 1, 0.1847, -1, 1, 0.1847, -0.9022, -0.9235, 0.1847, 0.9022, -1, 0.1847, 1, -1, 0.1847, -1, 1, 0.1847, 0.9022, -1, 0.1847, 1, -0.9235, 0.1847, 0.9022, 1, 0.1847, 0.9022, 1, 0.1847, 1, -1, 0.1847, 1, 1, 0, 0.9022, -0.9235, 0.1847, 0.9022, -0.9235, 0, 0.9022, 1, 0, 0.9022, 1, 0.1847, 0.9022, -0.9235, 0.1847, 0.9022, -0.9235, 0, -0.9022, 1, 0.1847, -0.9022, 1, 0, -0.9022, -0.9235, 0, -0.9022, -0.9235, 0.1847, -0.9022, 1, 0.1847, -0.9022, -0.9235, 0, 0.9022, -0.9235, 0.1847, -0.9022, -0.9235, 0, -0.9022, -0.9235, 0, 0.9022, -0.9235, 0.1847, 0.9022, -0.9235, 0.1847, -0.9022)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6lohu"]
resource_name = "Door"
cull_mode = 2
shading_mode = 0
albedo_texture = ExtResource("3_mvtml")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_hpwwu"]
_surfaces = [{
"aabb": AABB(-1.92345, -0.092353, -1.80436, 1.92345, 0.184706, 1.80436),
"format": 34359742465,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAQADAAIAAAAEAAEAAgADAAUAAgAFAAAAAAAGAAQAAAAFAAYABAAHAAEAAQAHAAMABAAGAAcABQADAAcABQAHAAYA"),
"name": "Door",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("fzP2v5Mjvb0AAACAAAAAAJQjvb0w9ea/fzP2v5Mjvb0v9ea/fzP2v5MjvT0v9ea/AAAAAJQjvb0AAACAfzP2v5MjvT0AAACAAAAAAJEjvT0AAACAAAAAAJEjvT0w9ea/")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_hqx5w"]
resource_name = "door_Plane_001"
_surfaces = [{
"aabb": AABB(-1.92345, -0.092353, -1.80436, 1.92345, 0.184706, 1.80436),
"attribute_data": PackedByteArray("wPovvAAUK7v2X4E/ilWAP/RfgT8AFiu7gPovvItVgD/A+i+8ABQru/ZfgT+KVYA/gPovvItVgD/0X4E/ABYruyFmdz/wnQk9750JPQCeCT3vnQk9AJ4JPSFmdz/wnQk9750JPSFmdz8hZnc/IWZ3PyFmdz8hZnc/750JPSFmdz8hZnc/IWZ3PyFmdz/wnQk9IWZ3P/CdCT0hZnc/IWZ3P++dCT0Angk9750JPSFmdz/vnQk9IWZ3P++dCT0Angk9"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAAADAAEABAAFAAYABAAHAAUACAAJAAoACAALAAkADAANAA4ADAAPAA0AEAARABIAEAATABEAFAAVABYAFAAXABUA"),
"material": SubResource("StandardMaterial3D_6lohu"),
"name": "Door",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("fzP2v5Mjvb0AAACAAAAAAJQjvb0w9ea/fzP2v5Mjvb0v9ea/AAAAAJQjvb0AAACAfzP2v5MjvT0AAACAAAAAAJEjvT0w9ea/AAAAAJEjvT0AAACAfzP2v5MjvT0v9ea/AAAAAJQjvb0w9ea/fzP2v5MjvT0v9ea/fzP2v5Mjvb0v9ea/AAAAAJEjvT0w9ea/fzP2v5Mjvb0AAACAAAAAAJEjvT0AAACAAAAAAJQjvb0AAACAfzP2v5MjvT0AAACAAAAAAJQjvb0AAACAAAAAAJEjvT0w9ea/AAAAAJQjvb0w9ea/AAAAAJEjvT0AAACAfzP2v5Mjvb0v9ea/fzP2v5MjvT0AAACAfzP2v5Mjvb0AAACAfzP2v5MjvT0v9ea//38AAP//AAD/fwAA//8AAP9/AAD//wAA/38AAP//AAD/f/////////9//////////3//////////f/////////////////+//////////7//////////v/////////+//3//f////z//f/9/////P/9//3////8//3//f////z////9/////v////3////+/////f////7////9/////vwAA/3////+/AAD/f////78AAP9/////vwAA/3////+/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_hpwwu")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_iy34u"]
data = PackedVector3Array(-1.9234, -0.0924, 0, 0, -0.0924, -1.8044, -1.9234, -0.0924, -1.8044, -1.9234, -0.0924, 0, 0, -0.0924, 0, 0, -0.0924, -1.8044, -1.9234, 0.0924, 0, 0, 0.0924, -1.8044, 0, 0.0924, 0, -1.9234, 0.0924, 0, -1.9234, 0.0924, -1.8044, 0, 0.0924, -1.8044, 0, -0.0924, -1.8044, -1.9234, 0.0924, -1.8044, -1.9234, -0.0924, -1.8044, 0, -0.0924, -1.8044, 0, 0.0924, -1.8044, -1.9234, 0.0924, -1.8044, -1.9234, -0.0924, 0, 0, 0.0924, 0, 0, -0.0924, 0, -1.9234, -0.0924, 0, -1.9234, 0.0924, 0, 0, 0.0924, 0, 0, -0.0924, 0, 0, 0.0924, -1.8044, 0, -0.0924, -1.8044, 0, -0.0924, 0, 0, 0.0924, 0, 0, 0.0924, -1.8044, -1.9234, -0.0924, -1.8044, -1.9234, 0.0924, 0, -1.9234, -0.0924, 0, -1.9234, -0.0924, -1.8044, -1.9234, 0.0924, -1.8044, -1.9234, 0.0924, 0)

[sub_resource type="Animation" id="Animation_u1mgs"]
resource_name = "Open"
length = 1.25
tracks/0/type = "rotation_3d"
tracks/0/imported = true
tracks/0/enabled = true
tracks/0/path = NodePath("Plane_001")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, -0.707107, 0.707107, 0.0333333, 1, 0, 0, -0.707107, 0.707107, 0.0666667, 1, 0.00116132, -0.00116132, -0.707106, 0.707106, 0.1, 1, 0.00418527, -0.00418527, -0.707094, 0.707094, 0.133333, 1, 0.00936769, -0.00936769, -0.707045, 0.707045, 0.166667, 1, 0.0165985, -0.0165985, -0.706912, 0.706912, 0.2, 1, 0.0263399, -0.0263399, -0.706616, 0.706616, 0.233333, 1, 0.0377954, -0.0377954, -0.706096, 0.706096, 0.266667, 1, 0.0508491, -0.0508491, -0.705276, 0.705276, 0.3, 1, 0.0653821, -0.0653821, -0.704078, 0.704078, 0.333333, 1, 0.0812716, -0.0812716, -0.702421, 0.702421, 0.366667, 1, 0.0987435, -0.0987435, -0.700178, 0.700178, 0.4, 1, 0.117205, -0.117205, -0.697326, 0.697326, 0.433333, 1, 0.136523, -0.136523, -0.693802, 0.693802, 0.466667, 1, 0.156563, -0.156563, -0.689556, 0.689557, 0.5, 1, 0.177185, -0.177185, -0.684548, 0.684548, 0.533333, 1, 0.198382, -0.198382, -0.678708, 0.678708, 0.566667, 1, 0.219777, -0.219777, -0.672085, 0.672085, 0.7, 1, 0.304593, -0.304593, -0.63814, 0.63814, 0.733333, 1, 0.324844, -0.324844, -0.628073, 0.628073, 0.766667, 1, 0.344453, -0.344453, -0.617537, 0.617537, 0.8, 1, 0.363322, -0.363322, -0.606628, 0.606628, 0.833333, 1, 0.381362, -0.381362, -0.595452, 0.595452, 0.866667, 1, 0.398247, -0.398247, -0.584294, 0.584294, 0.9, 1, 0.414074, -0.414074, -0.573186, 0.573186, 0.933333, 1, 0.428789, -0.428789, -0.562263, 0.562263, 0.966667, 1, 0.442342, -0.442342, -0.551664, 0.551665, 1, 1, 0.454692, -0.454692, -0.54153, 0.54153, 1.03333, 1, 0.465413, -0.465413, -0.532345, 0.532345, 1.06667, 1, 0.474795, -0.474795, -0.523994, 0.523994, 1.1, 1, 0.482811, -0.482811, -0.516617, 0.516618, 1.13333, 1, 0.489432, -0.489432, -0.510349, 0.510349, 1.16667, 1, 0.494626, -0.494626, -0.505317, 0.505317, 1.2, 1, 0.497831, -0.497831, -0.502159, 0.502159, 1.23333, 1, 0.499452, -0.499452, -0.500547, 0.500547, 1.25, 1, 0.5, -0.5, -0.5, 0.5)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_05cp3"]
_data = {
&"Open": SubResource("Animation_u1mgs")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_slc4o"]
size = Vector3(0.3, 3, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_qr7oj"]
size = Vector3(4, 3, 3)

[node name="Door" type="Area3D" node_paths=PackedStringArray("animation_player")]
collision_layer = 32
collision_mask = 16
script = ExtResource("1_qr7oj")
animation_player = NodePath("door/AnimationPlayer")

[node name="door" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0964611, 0, 0)

[node name="Plane" type="MeshInstance3D" parent="door"]
transform = Transform3D(0, 1, 0, -1.5, 0, 0, 0, 0, 1, -0.092353, 1.5, -1)
mesh = SubResource("ArrayMesh_x7g7h")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="door/Plane"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="door/Plane/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_yowmm")

[node name="Plane_001" type="MeshInstance3D" parent="door"]
transform = Transform3D(-6.55671e-08, 0.370883, 0, -1.5, -1.62118e-08, 0, 0, 0, 1, 0, 0, -0.0978213)
mesh = SubResource("ArrayMesh_hqx5w")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="door/Plane_001"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="door/Plane_001/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_iy34u")

[node name="AnimationPlayer" type="AnimationPlayer" parent="door"]
libraries = {
&"": SubResource("AnimationLibrary_05cp3")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0964611, 1.5, -1)
shape = SubResource("BoxShape3D_slc4o")

[node name="PlayerExitArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0964611, 0, 0)
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayerExitArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, -1)
shape = SubResource("BoxShape3D_qr7oj")

[connection signal="area_exited" from="PlayerExitArea" to="." method="_on_player_exit_area_area_exited"]
